<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="new_home_web">
        <div class="responsive-container-block big-container">
          <img class="imgBG" src="https://workik-widget-assets.s3.amazonaws.com/widget-assets/images/aw65.png">
          <div class="responsive-container-block textContainer">
            <div class="topHead">
              <p class="text-blk heading">
                Get in
                <span class="orangeText">
                  touch
                </span>
              </p>
              <div class="orangeLine" id="w-c-s-bgc_p-2-dm-id">
              </div>
            </div>
            <p class="text-blk subHeading">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna al iqua.
            </p>
          </div>
          <div class="responsive-container-block container">
            <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-7 wk-ipadp-10 line" id="i69b">
              <form class="form-box" id="contactForm">   
                <div class="container-block form-wrapper">
                  <div class="responsive-container-block">
                    <div class="left4">
                      <div class="responsive-cell-block wk-ipadp-6 wk-tab-12 wk-mobile-12 wk-desk-6" id="i10mt-2">
                        <input class="input" id="ijowk-2" name="FirstName" placeholder="First Name">
                      </div>
                      <div class="responsive-cell-block wk-desk-6 wk-ipadp-6 wk-tab-12 wk-mobile-12">
                        <input class="input" id="indfi-2" name="LastName" placeholder="Last Name">
                      </div>
                      <div class="responsive-cell-block wk-desk-6 wk-ipadp-6 wk-tab-12 wk-mobile-12">
                        <input class="input" id="ipmgh-2" name="Email" placeholder="Email Address">
                      </div>
                      <div class="responsive-cell-block wk-desk-6 wk-ipadp-6 wk-tab-12 wk-mobile-12 lastPhone">
                        <input class="input" id="imgis-2" name="PhoneNumber" placeholder="Phone Number">
                      </div>
                    </div>
                    <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-12 wk-ipadp-12" id="i634i-2">
                      <textarea class="textinput" id="i5vyy-2" placeholder="Message"></textarea>
                    </div>
                  </div>
                  <button type="submit" class="send" id="w-c-s-bgc_p-1-dm-id">Send</button>
                </div>
                <div id="responseMessage"></div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <script>
        document.getElementById('contactForm').addEventListener('submit', async function (e) {
            e.preventDefault(); // Prevent the default form submission

            const formData = new FormData(this);

            try {
                const response = await fetch('/send-email', {
                    method: 'POST',
                    body: JSON.stringify(Object.fromEntries(formData)),
                    headers: {
                        'Content-Type': 'application/json',
                    },
                });

                const result = await response.text();

                // Display the response message
                const responseMessage = document.getElementById('responseMessage');
                responseMessage.textContent = result;
                responseMessage.style.color = response.ok ? 'green' : 'red';

                if (response.ok) {
                    // Clear the form
                    this.reset();
                }
            } catch (error) {
                console.error(error);
                const responseMessage = document.getElementById('responseMessage');
                responseMessage.textContent = 'Error sending email.';
                responseMessage.style.color = 'red';
            }
        });
    </script>
</body>
</html>

